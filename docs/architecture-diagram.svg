<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="extensionGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4F46E5;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#7C3AED;stop-opacity:0.1" />
    </linearGradient>
    <linearGradient id="coreGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#059669;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#0D9488;stop-opacity:0.1" />
    </linearGradient>
    <linearGradient id="reclaimGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#DC2626;stop-opacity:0.1" />
      <stop offset="100%" style="stop-color:#EA580C;stop-opacity:0.1" />
    </linearGradient>
    <filter id="shadow" x="-20%" y="-20%" width="140%" height="140%">
      <feDropShadow dx="2" dy="2" stdDeviation="3" flood-color="#000000" flood-opacity="0.1"/>
    </filter>
  </defs>
  
  <!-- Browser Extension Container -->
  <rect x="50" y="50" width="700" height="200" rx="10" 
        fill="url(#extensionGradient)" stroke="#4F46E5" stroke-width="2" filter="url(#shadow)"/>
  <text x="60" y="75" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#4F46E5">
    Browser Extension
  </text>
  
  <!-- Popup UI -->
  <rect x="70" y="95" width="140" height="130" rx="5" 
        fill="#FFFFFF" stroke="#6366F1" stroke-width="1" filter="url(#shadow)"/>
  <text x="80" y="115" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4F46E5">
    Popup UI
  </text>
  <text x="80" y="135" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Configuration
  </text>
  <text x="80" y="150" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Status Display
  </text>
  <text x="80" y="165" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • User Controls
  </text>
  <text x="80" y="180" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Theme Settings
  </text>
  
  <!-- Content Scripts -->
  <rect x="230" y="95" width="140" height="130" rx="5" 
        fill="#FFFFFF" stroke="#6366F1" stroke-width="1" filter="url(#shadow)"/>
  <text x="240" y="115" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4F46E5">
    Content Scripts
  </text>
  <text x="240" y="135" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • DOM Monitoring
  </text>
  <text x="240" y="150" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Custom Injector
  </text>
  <text x="240" y="165" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Page Interaction
  </text>
  <text x="240" y="180" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Event Handling
  </text>
  
  <!-- Background Service Worker -->
  <rect x="390" y="95" width="340" height="130" rx="5" 
        fill="#FFFFFF" stroke="#6366F1" stroke-width="1" filter="url(#shadow)"/>
  <text x="400" y="115" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#4F46E5">
    Background Service Worker
  </text>
  <text x="400" y="135" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Network Request Monitoring
  </text>
  <text x="400" y="150" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Proof Generation Orchestration
  </text>
  <text x="400" y="165" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Provider Logic Coordination
  </text>
  <text x="400" y="180" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Secure Storage Management
  </text>
  <text x="400" y="195" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Cross-tab Communication
  </text>
  <text x="400" y="210" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Session State Management
  </text>
  
  <!-- Core Components Container -->
  <rect x="50" y="280" width="700" height="200" rx="10" 
        fill="url(#coreGradient)" stroke="#059669" stroke-width="2" filter="url(#shadow)"/>
  <text x="60" y="305" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="#059669">
    Core Components
  </text>
  
  <!-- Network Filter -->
  <rect x="70" y="325" width="180" height="130" rx="5" 
        fill="#FFFFFF" stroke="#10B981" stroke-width="1" filter="url(#shadow)"/>
  <text x="80" y="345" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">
    Network Filter
  </text>
  <text x="80" y="365" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Request Analysis
  </text>
  <text x="80" y="380" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Data Extraction
  </text>
  <text x="80" y="395" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Header Processing
  </text>
  <text x="80" y="410" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Response Filtering
  </text>
  <text x="80" y="425" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Pattern Matching
  </text>
  
  <!-- Proof Generator -->
  <rect x="270" y="325" width="180" height="130" rx="5" 
        fill="#FFFFFF" stroke="#10B981" stroke-width="1" filter="url(#shadow)"/>
  <text x="280" y="345" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">
    Proof Generator
  </text>
  <text x="280" y="365" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • snarkjs Integration
  </text>
  <text x="280" y="380" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • ZK Proof Creation
  </text>
  <text x="280" y="395" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Circuit Management
  </text>
  <text x="280" y="410" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Witness Generation
  </text>
  <text x="280" y="425" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Verification Keys
  </text>
  
  <!-- Provider Handlers -->
  <rect x="470" y="325" width="260" height="130" rx="5" 
        fill="#FFFFFF" stroke="#10B981" stroke-width="1" filter="url(#shadow)"/>
  <text x="480" y="345" font-family="Arial, sans-serif" font-size="12" font-weight="bold" fill="#059669">
    Provider Handlers
  </text>
  <text x="480" y="365" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Custom JS Files (providerId.js)
  </text>
  <text x="480" y="380" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • OAuth 2.0 Flow Management
  </text>
  <text x="480" y="395" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Provider-specific Data Extraction
  </text>
  <text x="480" y="410" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Authentication State Tracking
  </text>
  <text x="480" y="425" font-family="Arial, sans-serif" font-size="10" fill="#6B7280">
    • Dynamic Script Injection
  </text>
  
  <!-- Arrow pointing down -->
  <path d="M 400 490 L 400 520" stroke="#4B5563" stroke-width="3" fill="none" marker-end="url(#arrowhead)"/>
  
  <!-- Reclaim Protocol -->
  <rect x="250" y="530" width="300" height="50" rx="10" 
        fill="url(#reclaimGradient)" stroke="#DC2626" stroke-width="2" filter="url(#shadow)"/>
  <text x="360" y="550" font-family="Arial, sans-serif" font-size="14" font-weight="bold" fill="#DC2626" text-anchor="middle">
    Reclaim Protocol
  </text>
  <text x="400" y="570" font-family="Arial, sans-serif" font-size="12" fill="#7F1D1D" text-anchor="middle">
    Zero-Knowledge Verification
  </text>
  
  <!-- Data flow arrows -->
  <!-- Extension to Core -->
  <path d="M 400 250 L 400 280" stroke="#6366F1" stroke-width="2" fill="none" marker-end="url(#arrowhead)"/>
  <text x="410" y="270" font-family="Arial, sans-serif" font-size="10" fill="#6366F1">Data Flow</text>
  
  <!-- Connecting lines between core components -->
  <path d="M 250 390 L 270 390" stroke="#10B981" stroke-width="1" fill="none"/>
  <path d="M 450 390 L 470 390" stroke="#10B981" stroke-width="1" fill="none"/>
  
  <!-- Arrow marker definition -->
  <defs>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
            refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#4B5563" />
    </marker>
  </defs>
  
  <!-- Provider examples -->
  <text x="480" y="445" font-family="Arial, sans-serif" font-size="9" fill="#9CA3AF" font-style="italic">
    Examples: google.js, github.js, twitter.js
  </text>
  
  <!-- Technology labels -->
  <rect x="620" y="20" width="120" height="20" rx="10" fill="#F3F4F6" stroke="#D1D5DB"/>
  <text x="680" y="33" font-family="Arial, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">
    Manifest V3
  </text>
  
  <rect x="490" y="20" width="120" height="20" rx="10" fill="#F3F4F6" stroke="#D1D5DB"/>
  <text x="550" y="33" font-family="Arial, sans-serif" font-size="10" fill="#6B7280" text-anchor="middle">
    WebExtensions API
  </text>
</svg> 